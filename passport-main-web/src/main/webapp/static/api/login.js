(function(){var a={tmpl:function(e,d){var c=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return d?c(d):c},addIframe:function(e,d,f){var c=document.createElement("iframe");c.style.height="1px";c.style.width="1px";c.style.visibility="hidden";c.src=d;if(c.attachEvent){c.attachEvent("onload",function(){f&&f()})}else{c.onload=function(){f&&f()}}e.appendChild(c)},uuid:function(){function c(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return c()+c()+c()+c()+c()+c()+c()+c()}};var b=window.PassportSC||{};b._token=a.uuid();b._passhtml='<form method="post" action="https://account.sogou.com/web/login" target="_PassportIframe"><input type="hidden" name="username" value="<%=username%>"><input type="hidden" name="password" value="<%=password%>"><input type="hidden" name="captcha" value="<%=vcode%>"><input type="hidden" name="autoLogin" value="<%=isAutoLogin%>"><input type="hidden" name="client_id" value="<%=appid%>"><input type="hidden" name="xd" value="<%=redirectUrl%>"><input type="hidden" name="token" value="<%=token%>"></form><iframe id="_PassportIframe" name="_PassportIframe" src="about:blank" style="widthï¼š1px;height:1px;position:absolute;left:-1000px;"></iframe>';b._logincb=function(c){if(!+c.status){b.onsuccess&&b.onsuccess(c)}else{b.onfailure&&b.onfailure(c)}};b.getToken=function(){return b._token};b.loginHandle=function(h,e,i,g,f,d,c){if(arguments.length<7){c=d;d=f;f=g;g=i;i=""}if(!b.redirectUrl){window.console&&console.error("Must specify redirect url.Exit!");return}if(!b.appid){window.console&&console.error("Must specify appid.Exit!");return}if(!f){return}b.onsuccess=c,b.onfailure=d;f.innerHTML=a.tmpl(b._passhtml,{username:h,password:e,vcode:i,isAutoLogin:g,appid:b.appid,redirectUrl:b.redirectUrl,token:b._token});f.getElementsByTagName("form")[0].submit()};b.logoutHandle=function(f,d,c){if(!f){return}var e="https://account.sogou.com/web/logout?client_id="+b.appid;a.addIframe(f,e,function(){c&&c()})};window.PassportSC=b;if(b.onApiLoaded&&typeof b.onApiLoaded=="function"){b.onApiLoaded()}})();