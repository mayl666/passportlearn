define("utils",[],function(){return{uuid:function(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s4()+s4()+s4()+s4()+s4()+s4()+s4()+s4()},addZero:function(num,len){num=num.toString();while(num.length<len){num="0"+num}return num},parseResponse:function(data){if(typeof data=="string"){try{data=eval("("+data+")")}catch(e){data={status:-1,statusText:"服务器故障"}}}return data},addIframe:function(url,callback){var iframe=document.createElement("iframe");iframe.src=url;iframe.style.position="absolute";iframe.style.top="1px";iframe.style.left="1px";iframe.style.width="1px";iframe.style.height="1px";if(iframe.attachEvent){iframe.attachEvent("onload",function(){callback&&callback()})}else{iframe.onload=function(){callback&&callback()}}document.body.appendChild(iframe)},getScript:function(url,callback){var script=document.createElement("script");var head=document.head;script.async=true;script.src=url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script)}script=null;if(!isAbort){callback()}}};head.insertBefore(script,head.firstChild)},getUrlByMail:function(mail){mail=mail.split("@")[1];if(!mail){return false}var hash={"139.com":"mail.10086.cn","gmail.com":"mail.google.com","sina.com":"mail.sina.com.cn","yeah.net":"www.yeah.net","hotmail.com":"www.hotmail.com","live.com":"www.outlook.com","live.cn":"www.outlook.com","live.com.cn":"www.outlook.com","outlook.com":"www.outlook.com","yahoo.com.cn":"mail.cn.yahoo.com","yahoo.cn":"mail.cn.yahoo.com","ymail.com":"www.ymail.com","eyou.com":"www.eyou.com","188.com":"www.188.com","foxmail.com":"www.foxmail.com"};var url;if(mail in hash){url=hash[mail]}else{url="mail."+mail}return"http://"+url}}});define("common",["./utils"],function(a){return{addUrlCommon:function(b){if(b.ru){$(".main-content .nav li a,.banner li a").each(function(c,d){$(d).attr("href",$(d).attr("href")+"?ru="+encodeURIComponent(b.ru))})}if(b.client_id){$(".main-content .nav li a,.banner li a").each(function(c,d){$(d).attr("href",$(d).attr("href")+($(d).attr("href").indexOf("?")==-1?"?":"&")+"client_id="+b.client_id)})}},showBannerUnderLine:function(){$(".banner ul").show();var b=$(".banner ul li.current");if(b.length){$(".banner .underline").css("left",b.position().left).css("width",b.css("width"))}},parseHeader:function(b){$("#Header .username").html(b.username);if(b.username){$("#Header .info").show()}},bindJumpEmail:function(){$("#JumpToUrl").click(function(){if($("#JumpTarget")){window.open(a.getUrlByMail($("#JumpTarget").html()))}return false})},bindResendEmail:function(){var c=this;var d=60;var b=null;$("#ResendEmail").click(function(h){if(!b){var f=this;var g=d;$.ajax({url:"/web/resendActiveMai",type:"post",error:function(i,e){alert("通信错误")},success:function(){b=setInterval(function(){$(f).text(g--+"秒后重发");if(!g){clearInterval(b);b=null;$(f).text("重发验证邮件")}},1000)}})}h.preventDefault()})}}});define("conf",[],function(){return{client_id:"1120",redirectUrl:"/static/api/jump.htm",thirdRedirectUrl:"/static/api/tj.htm"}});(function(e){window.uuiJQuery=e;function i(m,l){for(var k in l){if(m[k]){continue}m[k]=l[k]}}var c={};function f(k){var p=k.match(/WebKit\/([\d.]+)/),m=k.match(/(Android)\s+([\d.]+)/),o=k.match(/(iPad).*OS\s([\d_]+)/),q=!o&&k.match(/(iPhone\sOS)\s([\d_]+)/),t=k.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),r=t&&k.match(/TouchPad/),s=k.match(/Kindle\/([\d.]+)/),n=k.match(/Silk\/([\d._]+)/),l=k.match(/(BlackBerry).*Version\/([\d.]+)/);if(m){c.android=true,c.version=m[2]}if(q){c.ios=c.iphone=true,c.version=q[2].replace(/_/g,".")}if(o){c.ios=c.ipad=true,c.version=o[2].replace(/_/g,".")}if(t){c.webos=true,c.version=t[2]}if(r){c.touchpad=true}if(l){c.blackberry=true,c.version=l[2]}if(s){c.kindle=true,c.version=s[1]}}if(!e.os){f(navigator.userAgent)}else{c=e.os}var j;uiDict={};function b(){return{top:(document.body.scrollTop||document.documentElement.scrollTop),left:(document.body.scrollLeft||document.documentElement.scrollLeft)}}function a(l){var k=b();return{clientX:l.clientX,clientY:l.clientY,left:l.clientX+k.left,top:l.clientY+k.top}}function h(){return Math.floor(Math.random()*65536).toString(16)}var g=c&&c.version;if(g){var d=a;a=function(k){var k=k.originalEvent;if(k.touches){return d(k.touches[0])}return d(k)}}e.fn.getUUI=function(l){var k=[];var l=l||this.uiName;this.each(function(n,o){var m=e(o).data(l);if(m&&uiDict[m]){k.push(uiDict[m])}});return k};e.fn.excUUICMD=function(m,l){var k=this.getUUI(this.uiName);e.each(k,function(n,o){o.excUUICMD&&o.excUUICMD(m,l)});return this};e.UUIBase={ismobile:g,stopPropagation:function(k){k.stopPropagation&&k.stopPropagation();k.cancelBubble=true},preventDefault:function(k){if(k&&k.preventDefault){k.preventDefault()}else{window.event.returnValue=false}return false},getScroll:b,getEPos:a,guid:function(){return(h()+h()+h()+h()+h()+h()+h()+h())},getMousePos:function(){return j},empty:function(){if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}},offset:function(k){return e.extend({width:k.width(),height:k.height()},k.offset())},eventHash:{mousedown:g?"touchstart":"mousedown",mousemove:g?"touchmove":"mousemove",mouseover:g?"touchstart":"mouseover",mouseup:g?"touchend":"mouseup",click:"click"},baseClass:{excUUICMD:function(l,k){if(this[l]){this[l](k)}if(l=="destroy"){this._destroy(k)}},on:function(n,l,m,k){arguments[1]=this.eventName(l);this.eventList?this.eventList.push(arguments):this.eventList=[arguments];n.on.apply(n,Array.prototype.slice.call(arguments,1));return arguments},eventName:function(k){return e.UUIBase.eventHash[k]||k},off:function(l){var m=l[0],k=this;m.off.apply(m,Array.prototype.slice.call(l,1));e.each(this.eventList,function(o,n){if(l==n){k.eventList.splice(o,1)}})},_destroy:function(){if(!this.eventList){return}e.each(this.eventList,function(k,l){l[0].off.apply(l[0],Array.prototype.slice.call(l,1))})}},data:{},css:[],init:function(){if(e.UUIBase.css.length){var l=e.UUIBase.css.join("");if(l==""){return}var k=document.createElement("style");k.setAttribute("type","text/css");k.innerHTML=l;e("head").append(k);e.UUIBase.css=[];e.UUIBase.data=[]}},create:function(k,l){e[k]=l;i(e[k].prototype,e.UUIBase.baseClass);e.fn[k]=function(n){var m=n||{};this.uiName=k;this.each(function(p,q){var o=e(q).data(k);if(o){if(m.destroy){uiDict[o].excUUICMD("destroy",m);delete uiDict[o];e(q).removeData(k)}else{n&&uiDict[o].excUUICMD("update",m)}}else{if(!m.destroy){if(m.enable===undefined&&m.disable===undefined){m.enable=true}o=k+(+(new Date()));e(q).data(k,o);uiDict[o]=new e[k](e(q),m)}}});if(m.instance){return this.getUUI()}return this}}};e(function(){e(document).on(e.UUIBase.eventHash.mousemove,function(k){j=a(k)});g&&e(document).on(e.UUIBase.eventHash.mousedown,function(k){j=a(k)})})})(jQuery);define("uuibase",function(){});(function(c){var a={type:"submit",onsinglefail:function(){},onsinglesuccess:function(){},onfocus:function(){},onblur:function(){},onformfail:function(){return false},onformsuccess:function(){return false}};function b(g,e){var f=this;f._dom=g;var d=f.options=c.extend({},a);f.guid=c.UUIBase.guid();f.update(e||{});f._bindEvent()}b.prototype={update:function(d){this.options=c.extend(this.options,d)},_types:{num:function(d){return !d.length||/^\d+$/.test(d)},cellphone:function(d){return !d.length||/^1\d{10}$/.test(d)},require:function(d){return c.trim(d).length},email:function(d){return !d.length||/^(\w)+(\.\w+)*@([\w_\-])+((\.\w+)+)$/.test(d)},min:function(e,d){return !e.length||e.length>=d},max:function(e,d){return !e.length||e.length<=d},range:function(f,e,d){return !f.length||f.length<=d&&f.length>=e}},_bindEvent:function(){var e=this;var d=e._dom;this.on(d,"submit",function(){var g=c(this);var h=true;var f=g.find(":input");f.each(function(i,j){h=e._validate(c(j))&&h});return(h?e.options.onformsuccess(g):e.options.onformfail(g))});d.on("focus",":input",function(){e.options.onfocus(c(this))});d.on("blur",":input",function(){e.options.onblur(c(this))});if(e.options.type=="blur"){d.on("blur",":input",function(){return e._validate(c(this))})}},_validate:function(s){var r=s.attr("uui-type"),f=s.attr("uui-reg"),p=this;if(!r&&!f){return true}var h=[];if(f){h.push([function(i){return new RegExp(f,"g").test(i)},[]])}if(r){r=r.split(" ");for(var m=0,g=r.length;m<g;m++){var o=r[m];var k,j=[];var e=/^(\w+)\((.*)\)$/g,q;q=e.exec(o);if(q){k=p._types[q[1]];j=q[2].split(",")}else{k=p._types[o]}h.push([k,j,o])}}for(var m=0,g=h.length;m<g;m++){var k=h[m][0],j=h[m][1],d=h[m][2];j.unshift(s.val());if(!k){continue}var n=k.apply(null,j);n?p.options.onsinglesuccess(s,d):p.options.onsinglefail(s,d);if(!n){break}}return n}};b.addType=function(d,e){b.prototype._types[d]=e};c.UUIBase.create("uuiForm",b);c(c.UUIBase.init)})(jQuery);define("uuiForm",function(){});define("form",["./utils","./conf","./uuibase","./uuiForm"],function(j,i){$.uuiForm.addType("password",function(l){return l.length<=16&&l.length>=6});$.uuiForm.addType("vpasswd",function(n,o){var l=$("#"+o.slice(0,1).toUpperCase()+o.slice(1)+"Ipt");if(l&&l.length){var m=l.val();return m==n}return true});$.uuiForm.addType("nick",function(l){return/^[a-z]([a-z0-9_.]{3,15})$/.test(l)});$.uuiForm.addType("uniqname",function(l){return/^[a-z]([a-zA-Z0-9_.]{3,15})$/.test(l)});var e={aCity:{11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},valid:function(m){var o=0;var p="";if(!/^\d{17}(\d|x)$/i.test(m)){return false}m=m.replace(/x$/i,"a");if(this.aCity[parseInt(m.substr(0,2))]==null){return false}var l=m.substr(6,4)+"-"+Number(m.substr(10,2))+"-"+Number(m.substr(12,2));var q=new Date(l.replace(/-/g,"/"));if(l!=(q.getFullYear()+"-"+(q.getMonth()+1)+"-"+q.getDate())){return false}for(var n=17;n>=0;n--){o+=(Math.pow(2,n)%11)*parseInt(m.charAt(17-n),11)}if(o%11!=1){return false}return true}};$.uuiForm.addType("personalid",function(l){return(l=="")||e.valid(l)});var f={require:function(m){var l=m.parent().prev().html();return"请填写"+l.replace("：","")},email:function(){return"邮箱格式不正确"},password:function(){return"密码长度为6-16位"},cellphone:function(){return"请输入正确的手机号码"},vpasswd:function(){return"两次密码输入不一致"},range:function(l){return""},max:function(m,l){return"输入字符请少于"+l+"个字"},id:function(){return"请输入18位有效的身份证号码"},uniqname:function(l){if(l.val().length<3||l.val().length>16){return"个性帐号长度为6-16位"}return"小写字母开头的数字、字母、下划线或组合"},nick:function(l){if(l.val().length<3||l.val().length>16){return"个性帐号长度为6-16位"}return"小写字母、数字、下划线的组合"}};var b={email:"请输入您作为帐号的邮箱名",password:"6-16位，字母(区分大小写)、数字、符号",nick:"小写字母开头的数字、字母、下划线或组合"};var g=function(m,l){if(!m.parent().parent().find("."+l).length){m.parent().parent().append('<span class="'+l+'"></span>')}};var k=function(m,l){return m.parent().parent().find("."+l)};var c=function(m){if(m.attr("data-desc")){return m.attr("data-desc")}var l=m.attr("uui-type");l=(l||"").split(" ");var n;_.forEach(l,function(o){if(o!="require"&&!n&&b[o]){n=o}});return n?(b[n]||""):""};var d=function(n,m,l){return f[m]&&f[m](n,l)||""};var h=function(m){var l=j.uuid();m.find(".token").val(l);m.find(".vpic img").attr("src","/captcha?token="+l+"&t="+ +new Date())};var a=function(l){l.find(".vpic img,.change-vpic").click(function(){l.find(".vpic img").attr("src","/captcha?token="+l.find(".token").val()+"&t="+ +new Date());return false});l.click(function(){l.find(".form-error,.form-success").hide()})};return{render:function(m,l){l=l||{};m.uuiForm({type:"blur",onfocus:function(p){p.parent().addClass("form-el-focus");k(p,"error").hide();var q=c(p);if(q&&q.length){g(p,"desc");k(p,"desc").show().html(q)}},onblur:function(p){p.parent().removeClass("form-el-focus");k(p,"desc").hide()},onsinglefail:function(r,q){var p=q.split("(")[1];q=q.split("(")[0];p=p?p.slice(0,-1).split(","):[];var s=d(r,q,p);if(s&&s.length){g(r,"error");k(r,"desc").hide();k(r,"error").show().html(s)}},onsinglesuccess:function(q,p){k(q,"error").hide()},onformsuccess:function(p){if(!l.onbeforesubmit||l.onbeforesubmit(p)){$.post(p.attr("action"),p.serialize(),function(r){r=j.parseResponse(r);if(!+r.status){p.find(".form-success").show().find("span").html(r.statusText?r.statusText:"提交成功");l.onsuccess&&l.onsuccess(p,r)}else{var q=r.statusText?r.statusText.split("|")[0]:"未知错误";p.find(".form-error").show().find("span").html(q);l.onfailure&&l.onfailure(p)}})}return false},onformfail:function(p){p.find(".desc").hide();l.onformfail&&l.onformfail();return false}});m.append('<input type="hidden" name="token" value="" class="token"/>');var n={};try{n=$.evalJSON(server_data).data||{}}catch(o){window.console&&console.log(o)}m.append('<input name="client_id" value="'+(n.client_id?n.client_id:i.client_id)+'" type="hidden"/>');m.find(".form-btn").before('<div class="form-error"><span></span></div>');m.find(".form-btn").before('<div class="form-success"><span></span></div>');h(m);a(m)},initTel:function(n){var m,q="秒后重新获取验证码",p,r=60,l=r,o;$(".tel-valid-btn").click(function(){if(o){return}$(".main-content .form form").find(".tel-valid-error").hide();var t=$('.main-content .form form input[name="'+(n?n:"username")+'"]');if(t&&t.length){var w=t.parent().find(".error");if(!$.trim(t.val()).length){t.blur();return}if(w.length&&w.css("display")!="none"){return}}o=true;var v=$(this);p=v.html();var s=v.attr("action")||"/web/sendsms";$.get(s,{mobile:t.val(),new_mobile:t.val(),client_id:i.client_id,t:+new Date()},function(x){x=j.parseResponse(x);if(+x.status){if(+x.status!=20201){$(".main-content .form form").find(".tel-valid-error").show().html(x.statusText?x.statusText:"系统错误")}u()}else{v.addClass("tel-valid-btn-disable");m=setInterval(function(){if(!--l){u()}else{v.html(l+q)}},1000)}});function u(){v.html(p);clearInterval(m);o=false;l=r;v.removeClass("tel-valid-btn-disable")}})},showFormError:function(l){$(".main-content .form form").find(".form-error").show().find("span").html(l)}}});define("feedback",["./common","./form","./conf"],function(b,d,c){var a=function(){d.render($(".main-content .form form"),{onsuccess:function(f){f.parent().html($("#Target2").html())}})};var e=function(k){if(!k||!k.length){return}var j=$(".main-content .form form select")[0];for(var h=0,f=k.length;h<f;h++){var g=new Option(k[h].typeName,k[h].id,false,false);j.options[j.options.length]=g}};return{init:function(){b.showBannerUnderLine();a();var f={};try{f=$.evalJSON(server_data).data}catch(g){window.console&&console.log(g)}b.parseHeader(f);e(f.problemTypeList)}}});