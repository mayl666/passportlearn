<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">
<log4j:configuration  xmlns:log4j="http://jakarta.apache.org/log4j/" debug="false">
    <appender name="CONSOLE-ERROR" class="org.apache.log4j.ConsoleAppender">
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
        </layout>
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="levelMin" value="ERROR"/>
        </filter>
    </appender>
    <appender name="CONSOLE-DEBUG" class="org.apache.log4j.ConsoleAppender">
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
        </layout>
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="levelMin" value="DEBUG"/>
        </filter>
    </appender>
    <appender name="CONSOLE-INFO" class="org.apache.log4j.ConsoleAppender">
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
        </layout>
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="levelMin" value="INFO"/>
        </filter>
    </appender>
    <appender name="FILE-ALL" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="bufferedIO" value="true"/>
        <param name="File" value="/search/passport/log/couponActive.log"/>
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
        </layout>
    </appender>

    <!--start:httpClient性能log-->
    <appender name="httpclientFileAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="File" value="/search/passport/log/httpclient/perfStats.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%m%n" />
        </layout>
    </appender>

    <appender name="httpclientCoalescingStatistics"
              class="org.perf4j.log4j.AsyncCoalescingStatisticsAppender">
        <!--每分钟分析一次log，做出性能测试-->
        <param name="TimeSlice" value="60000" />
        <appender-ref ref="httpclientFileAppender" />
    </appender>

    <logger name="httpClientTimingLogger" additivity="false">
        <level value="INFO" />
        <appender-ref ref="httpclientCoalescingStatistics" />
    </logger>
    <!--end:httpClient性能log-->

    <!--start:web服务器性能log-->
    <appender name="webPerfFileAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="File" value="/search/passport/log/webperf/perfStats.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%m%n" />
        </layout>
    </appender>

    <appender name="webCoalescingStatistics"
              class="org.perf4j.log4j.AsyncCoalescingStatisticsAppender">
        <!--每分钟分析一次log，做出性能测试-->
        <param name="TimeSlice" value="60000" />
        <appender-ref ref="webPerfFileAppender" />
    </appender>


    <logger name="webTimingLogger" additivity="false">
        <level value="INFO" />
        <appender-ref ref="webCoalescingStatistics" />
    </logger>
    <!--end:web服务器性能log-->

    <!--start:redies请求log-->
    <appender name="rediesPerfFileAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="File" value="/search/passport/log/redies/rediesPerfStats.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%m%n" />
        </layout>
    </appender>
    <appender name="rediesCoalescingStatistics"
              class="org.perf4j.log4j.AsyncCoalescingStatisticsAppender">
        <!--每分钟分析一次log，做出性能测试-->
        <param name="TimeSlice" value="60000" />
        <appender-ref ref="rediesPerfFileAppender" />
    </appender>

    <logger name="rediesTimingLogger" additivity="false">
        <level value="INFO" />
        <appender-ref ref="rediesCoalescingStatistics" />
    </logger>
    <!--end:web服务器性能log-->

    <!--注册黑名单-->
    <appender name="regBlackListFileAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="BufferedIO" value="true"/>
        <param name="File" value="/search/passport/log/blackList/regBlackList.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%m%n" />
        </layout>
    </appender>
    <logger name="com.sogou.upd.passport.regBlackListFileAppender" additivity="false">
        <level value="INFO" />
        <appender-ref ref="regBlackListFileAppender" />
    </logger>

    <!--登陆黑名单-->
    <appender name="loginBlackListFileAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd"/>
        <param name="Append" value="true"/>
        <param name="BufferedIO" value="true"/>
        <param name="File" value="/search/passport/log/blackList/loginBlackList.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%m%n" />
        </layout>
    </appender>
    <logger name="com.sogou.upd.passport.loginBlackListFileAppender" additivity="false">
        <level value="INFO" />
        <appender-ref ref="loginBlackListFileAppender" />
    </logger>

    <!--start:userOperationLogger 用户操作行为记录log-->
    <appender name="userOperationAppender" class="org.apache.log4j.DailyRollingFileAppender">
        <param name="DatePattern" value="'.'yyyy-MM-dd-HH"/>
        <param name="Append" value="true"/>
        <param name="BufferedIO" value="true"/>
        <param name="File" value="/search/passport/log/useroperation/useroperation.log" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d %m %n" />
        </layout>
    </appender>

    <logger name="userOperationLogger" additivity="false">
        <level value="INFO" />
        <appender-ref ref="userOperationAppender" />
    </logger>
    <!--end:userOperationLogger 用户操作行为记录log-->


    <category name="com." additivity="false">
        <priority value="INFO"/>
        <appender-ref ref="CONSOLE-INFO"/>
    </category>

    <root>
        <priority value="INFO"/>
        <level value="info"></level>
        <appender-ref ref="CONSOLE-INFO"/>
    </root>


</log4j:configuration>